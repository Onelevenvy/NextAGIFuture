## ğŸ“ƒ NextAGIFuture

<p align="center">
  <a href="./README_cn.md">ç®€ä½“ä¸­æ–‡</a> |
  <a href="./README.md">English</a> |
  <a href="./README_cn.md#å¦‚ä½•å¼€å§‹">å¿«é€Ÿå¼€å§‹</a>
</p>

ä¸€ä¸ªåŸºäº LangChainã€LangGraph å’Œå…¶ä»–æ¡†æ¶çš„èŠå¤©æœºå™¨äººã€RAGã€ä»£ç†å’Œå¤šä»£ç†åº”ç”¨é¡¹ç›®ï¼Œå¼€æºä¸”èƒ½å¤Ÿç¦»çº¿éƒ¨ç½²ã€‚
<video src="https://private-user-images.githubusercontent.com/49232224/365880079-72564225-6675-4eda-b1c6-c87bb3e4bd24.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjU5Mzg2MzksIm5iZiI6MTcyNTkzODMzOSwicGF0aCI6Ii80OTIzMjIyNC8zNjU4ODAwNzktNzI1NjQyMjUtNjY3NS00ZWRhLWIxYzYtYzg3YmIzZTRiZDI0Lm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTEwVDAzMTg1OVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWVlZTVkZmQxY2YxZDRhMWJmYTY1ZmRjNzAxMzAwODJjNjZiMjQxOGRjMTkzZTlkYTA3ZTRiN2M4OWFhYjM2NDYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.E2MtHMi_cgeo6p7LKdIUj-iJt9JHA2li8pVxbI6Wazc" data-canonical-src="https://private-user-images.githubusercontent.com/49232224/365880079-72564225-6675-4eda-b1c6-c87bb3e4bd24.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjU5Mzg2MzksIm5iZiI6MTcyNTkzODMzOSwicGF0aCI6Ii80OTIzMjIyNC8zNjU4ODAwNzktNzI1NjQyMjUtNjY3NS00ZWRhLWIxYzYtYzg3YmIzZTRiZDI0Lm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA5MTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwOTEwVDAzMTg1OVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWVlZTVkZmQxY2YxZDRhMWJmYTY1ZmRjNzAxMzAwODJjNjZiMjQxOGRjMTkzZTlkYTA3ZTRiN2M4OWFhYjM2NDYmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.E2MtHMi_cgeo6p7LKdIUj-iJt9JHA2li8pVxbI6Wazc" controls="controls" muted="muted" class="d-block rounded-bottom-2 border-top width-fit" style="max-height:640px; min-height: 200px">
</video>

### ğŸ¤–ï¸ æ¦‚è§ˆ

![image](https://github.com/user-attachments/assets/22583a25-4cee-43af-9d8e-38a491377875)

#### å·¥ä½œæµç¨‹

![image](https://github.com/user-attachments/assets/a4e33565-7acf-45d9-8e82-5a740cd88344)
![image](https://github.com/user-attachments/assets/4d5874f1-aeb0-47c5-b907-21878a2fa4d9)

#### å›¾åƒ

![image](https://github.com/user-attachments/assets/4097b087-0309-4aab-8be9-a06fdc9d4964)

#### äººåœ¨å›è·¯ä¸­ï¼ˆäººå·¥å®¡æ‰¹æˆ–è®© LLM é‡æ–°æ€è€ƒæˆ–å¯»æ±‚äººå·¥å¸®åŠ©ï¼‰

<p>
  <img src="https://github.com/user-attachments/assets/ec53f7de-10cb-4001-897a-2695da9cf6bf" alt="image" style="width: 49%; display: inline-block;">
  <img src="https://github.com/user-attachments/assets/1c7d383d-e6bf-42b8-94ec-9f0c37be19b8" alt="image" style="width: 49%; display: inline-block;">
</p>

NextAGIFuture æ—¨åœ¨æˆä¸ºä¸€ä¸ªå¼€æºçš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åº”ç”¨å¼€å‘å¹³å°ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäº LangChain å’Œ LangGraph æ¦‚å¿µçš„ LLM åº”ç”¨ã€‚ç›®æ ‡æ˜¯åˆ›å»ºä¸€å¥—æ”¯æŒèŠå¤©æœºå™¨äººã€RAG åº”ç”¨ã€ä»£ç†å’Œå¤šä»£ç†ç³»ç»Ÿçš„ LLMOps è§£å†³æ–¹æ¡ˆï¼Œå¹¶å…·å¤‡ç¦»çº¿è¿è¡Œèƒ½åŠ›ã€‚

å— [StreetLamb](https://github.com/StreetLamb) é¡¹ç›®åŠå…¶ [tribe](https://github.com/StreetLamb/tribe) é¡¹ç›®çš„å¯å‘ï¼ŒNextAGIFuture é‡‡ç”¨äº†è®¸å¤šç›¸åŒçš„æ–¹æ³•å’Œä»£ç ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå®ƒå¼•å…¥äº†ä¸€äº›æ–°çš„åŠŸèƒ½å’Œæ–¹å‘ã€‚

æœ¬é¡¹ç›®çš„ä¸€äº›å¸ƒå±€å‚è€ƒäº† [Lobe-chat](https://github.com/lobehub/lobe-chat)ã€[Dify](https://github.com/langgenius/dify) å’Œ [fastgpt](https://github.com/labring/FastGPT)ã€‚å®ƒä»¬éƒ½æ˜¯ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢ ğŸ™‡â€ã€‚

### ğŸ‘¨â€ğŸ’» å¼€å‘

é¡¹ç›®æŠ€æœ¯æ ˆï¼šLangChain + LangGraph + React + Next.js + Chakra UI + PostgreSQL

### ğŸ’¡ è·¯çº¿å›¾

1 åº”ç”¨

- [x] èŠå¤©æœºå™¨äºº
- [x] ç®€å• RAG
- [x] å±‚æ¬¡ä»£ç†
- [x] é¡ºåºä»£ç†
- [ ] å·¥ä½œæµ ---è¿›è¡Œä¸­
- [ ] æ›´å¤šå¤šä»£ç†ç³»ç»Ÿ

2 æ¨¡å‹

- [x] OpenAI
- [x] ZhipuAI
- [x] Siliconflow
- [x] Ollama
- [ ] Qwen
- [ ] Xinference

3 å…¶ä»–

- [x] Tools Calling
- [x] I18n
- [ ] Langchain Templates

### ğŸ˜ï¸ äº®ç‚¹

- æŒä¹…åŒ–å¯¹è¯ï¼šä¿å­˜å¹¶ç»´æŠ¤èŠå¤©å†å²ï¼Œå…è®¸æ‚¨ç»§ç»­å¯¹è¯ã€‚
- å¯è§‚å¯Ÿæ€§ï¼šä½¿ç”¨ LangSmith å®æ—¶ç›‘æ§å’Œè·Ÿè¸ªæ‚¨çš„ä»£ç†æ€§èƒ½å’Œè¾“å‡ºï¼Œç¡®ä¿å®ƒä»¬é«˜æ•ˆè¿è¡Œã€‚
- å·¥å…·è°ƒç”¨ï¼šä½¿æ‚¨çš„ä»£ç†èƒ½å¤Ÿä½¿ç”¨å¤–éƒ¨å·¥å…·å’Œ APIã€‚
- æ£€ç´¢å¢å¼ºç”Ÿæˆï¼šä½¿æ‚¨çš„ä»£ç†èƒ½å¤Ÿåˆ©ç”¨æ‚¨çš„å†…éƒ¨çŸ¥è¯†åº“è¿›è¡Œæ¨ç†ã€‚
- Human-in-the-loopï¼šåœ¨å·¥å…·è°ƒç”¨å‰å¯ç”¨äººå·¥å®¡æ‰¹ã€‚
- å¼€æºæ¨¡å‹ï¼šä½¿ç”¨å¼€æº LLM æ¨¡å‹ï¼Œå¦‚ llamaã€Qwen å’Œ Glmã€‚
- å¤šç§Ÿæˆ·ï¼šç®¡ç†å’Œæ”¯æŒå¤šä¸ªç”¨æˆ·å’Œå›¢é˜Ÿã€‚

### å¦‚ä½•å¼€å§‹

#### 1. å‡†å¤‡å·¥ä½œ

##### 1.1 å…‹éš†ä»£ç 

git clone https://github.com/Onelevenvy/NextAGIFuture.git

##### 1.2 å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶

```bash
cp .env.example .env
```

##### 1.3 ç”Ÿæˆå¯†é’¥

.env æ–‡ä»¶ä¸­çš„ä¸€äº›ç¯å¢ƒå˜é‡é»˜è®¤å€¼ä¸º changethisã€‚
æ‚¨å¿…é¡»å°†å®ƒä»¬æ›´æ”¹ä¸ºå¯†é’¥ï¼Œè¦ç”Ÿæˆå¯†é’¥ï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

å¤åˆ¶å†…å®¹å¹¶å°†å…¶ç”¨ä½œå¯†ç /å¯†é’¥ã€‚å†æ¬¡è¿è¡Œè¯¥å‘½ä»¤ä»¥ç”Ÿæˆå¦ä¸€ä¸ªå®‰å…¨å¯†é’¥ã€‚

##### 1.3 å®‰è£… postgresã€qdrantã€redis

```bash
cd nextagi
docker compose up -d
```

#### 2.è¿è¡Œåç«¯

##### 2.1 å®‰è£…åŸºæœ¬ç¯å¢ƒ

æœåŠ¡å™¨å¯åŠ¨éœ€è¦ Python 3.10.xã€‚å»ºè®®ä½¿ç”¨ pyenv å¿«é€Ÿå®‰è£… Python ç¯å¢ƒã€‚

è¦å®‰è£…å…¶ä»– Python ç‰ˆæœ¬ï¼Œè¯·ä½¿ç”¨ pyenv installã€‚

```bash
pyenv install 3.10
```

è¦åˆ‡æ¢åˆ° "3.10" Python ç¯å¢ƒï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
pyenv global 3.10
```

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
å¯¼èˆªåˆ° "backend" ç›®å½•ï¼š

```bash
cd backend
```

æ¿€æ´»ç¯å¢ƒã€‚

```bash
poetry env use 3.10
poetry install
```

##### 2.2 åˆå§‹åŒ–æ•°æ®

```bash
# è®©æ•°æ®åº“å¯åŠ¨
python /app/app/backend_pre_start.py

# è¿è¡Œè¿ç§»
alembic upgrade head

# åœ¨æ•°æ®åº“ä¸­åˆ›å»ºåˆå§‹æ•°æ®
python /app/app/initial_data.py
```

##### 2.3 è¿è¡Œ unicorn

```bash
 uvicorn app.main:app --reload --log-level debug
```

##### 2.4 è¿è¡Œ celeryï¼ˆéå¿…éœ€ï¼Œé™¤éæ‚¨æƒ³ä½¿ç”¨ rag åŠŸèƒ½ï¼‰

```bash
poetry run celery -A app.core.celery_app.celery_app worker --loglevel=debug
```

#### 3.è¿è¡Œå‰ç«¯

##### 3.1 è¿›å…¥ web ç›®å½•å¹¶å®‰è£…ä¾èµ–

```bash
cd web
pnpm install
```

##### 3.2 å¯åŠ¨ web æœåŠ¡

```bash
cd web
pnpm dev

# æˆ–è€… pnpm build ç„¶å pnpm start
```
